<!doctype html>
<html lang="pt-br">

<head>
    <title>Adicionar Alunos || E-nology</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/fonts/font-exo.css">

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/adminpages.css">

</head>

<body>
    <div class="row fixed-top navbar">
        <span class="botao fa fa-bars" onclick="alterarSidebar()"></span>
        <a class="navbar-brand marca-admin ml-4" style="font-size: 18pt;color: white;"><span>Admin Home</span></a>
        <div class="direita align-middle">
        </div>
    </div>
    <div id="sidebar" class="sidenav">
        <div>
            <div class="d-flex justify-content-center bg-sidebar-admin">
                <img id="img_perfil" th:if="${usuario.imagem}" th:src="@{'/localCloud/' + ${usuario.imagem.link}}"
                    alt="Minha Foto" width="75" class="img-fluid d-flex justify-content-center img-user">
                <span th:unless="${usuario.imagem}" class="img-user-of fa fa-user-circle"></span>
            </div>
            <strong>
                <span th:text="${usuario.nome} + ' ' + ${usuario.sobrenome}"
                    class="mt-2 d-flex justify-content-center fonte user-name"></span></strong>
            <span class="fa fa-address-card d-flex justify-content-center text-light">
                <strong><span class="fonte ml-2">Professor</span></strong></span>
            <br>
        </div>
        <span></span>
        <a name="link" href="/admin"><span class="fa fa-home"><span class="ml-2 fonte">Home</span></span></a>

        <a name="link" href="/perfil"><span class="fa fa-user-circle"><span class="ml-2 fonte">Meu Perfil</span>
            </span></a>
        <br>

        <h5 class="ml-3 font-weight-normal text-light"><strong>Sistema</strong></h5>
        <a name="link" href="/admin/sistema/criar-tarefa"><span class="fa fa-file-code-o"><span class="ml-2 fonte">Criar
                    Tarefa</span>
            </span></a>
        <br>
        <h5 class="ml-3 font-weight-normal text-light"><strong>Turma</strong></h5>
        <a name="link" href="/admin/turmas#"><span class="fa fa-file-code-o"><span class="ml-2 fonte">Lista</span>
            </span></a>

        <a name="link"> <span class="fa fa-low-vision"><span class="ml-2 fonte">Monitorar
                    Turmas</span></span></a>
        <br>
        <h5 class="ml-3 font-weight-normal text-light"><strong>Alunos</strong></h5>

        <a name="link" href="/admin/alunos"> <span class="fa fa-users"><span class="ml-2 fonte">Lista</span></span></a>
        <br>
        <a href="/logout"><span class="fa fa-sign-out"><span class="ml-2 fonte">Sair</span></span></a>
    </div>

    <div class="container">

        <form th:object="${turma}">
            <div class="row mt-5 d-flex justify-content-center">
                <div class="form-group col-md-3 col-sm-6">
                    <label for="disabledTextInput">Nome da Turma</label>
                    <input type="text" id="disabledTextInput" class="form-control text-center" th:value="${turma.nome}"
                        placeholder="Disabled input" disabled>
                </div>
                <div class="form-group col-md-2 col-sm-6">
                    <label for="disabledTextInput">Semestre</label>
                    <input type="text" id="disabledTextInput" class="form-control"
                        th:value="${turma.ano} + '.' + ${turma.semestre}" placeholder="Disabled input" disabled>
                </div>
            </div>

            <div class="row mt-3 d-flex justify-content-center">
                <table class="table table-hover col-sm-12 col-md-8">
                    <thead>
                        <tr>
                            <th scope="col"></th>
                            <th scope="col">Nome</th>
                            <th scope="col">Email</th>
                        </tr>
                    </thead>
                    <tbody id="students">
                        <tr th:each="aluno : ${alunos.content}">
                            <td>
                                <img th:if="${aluno.imagem}" th:src="@{'/localCloud/' + ${aluno.imagem.link}}"
                                    alt="imagem" style="border-radius: 10px;  max-width: 100%;
                                width: 200px;
                                height: 100px;
                                object-fit: cover;">
                                <span th:unless="${aluno.imagem}"
                                    class="fa fa-user-circle d-flex justify-content-left ml-5"
                                    style="font-size: 6rem; color: #011f41;"></span>

                            </td>
                            <td th:text="${aluno.nome} + ' ' + ${aluno.sobrenome}"></td>
                            <td th:text="${aluno.email}"></td>
                            <td>
                                <a th:title="'Adicionar Ã  turma: ' + ${turma.nome}" th:unless="${#lists.contains(turma.usuarios, aluno)}"
                                    th:href="@{'/admin/turmas/' + ${turma.id} + '/add-alunos/' + ${aluno.id}(page=${alunos.number}, size=${alunos.size})}"
                                    >
                                    <i class="fa fa-plus-circle text-success" aria-hidden="true"
                                        style="font-size: 2rem;"></i>
                                </a>
                                <a th:title="'Remover da turma: ' + ${turma.nome}" th:if="${#lists.contains(turma.usuarios, aluno)}" th:href="@{'/admin/turmas/' + ${turma.id} + '/add-alunos/' + ${aluno.id}}"
                                   >
                                    <i class="fa fa-trash text-danger" aria-hidden="true" style="font-size: 2rem;"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    <div class="row d-flex justify-content-center">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item">
                    <a th:if="${alunos.hasPrevious()}" class="page-link"
                        th:href="@{'/admin/turmas/' + ${turma.id} + '/add-alunos'(page=${alunos.number-1}, size=${alunos.size})}"
                        aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>

                <th:block th:each="i : ${#numbers.sequence(0, alunos.totalPages - 1)}">
                <li class="page-item" id="prev-btn" th:classappend="${alunos.number + 2} eq ${i + 2} ? 'active' : ''">
                    <a th:href="@{'/admin/turmas/' + ${turma.id} + '/add-alunos'(page=${i}, size=${alunos.size})}" class="page-link">
                        [[ ${i} + 1 ]]
                    </a>
                </li>
                </th:block>
                
                <li class="page-item">
                    <a th:if="${alunos.hasNext()}" class="page-link"
                    th:href="@{'/admin/turmas/' + ${turma.id} + '/add-alunos'(page=${alunos.number+1}, size=${alunos.size})}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>


    </div>

    <div class="row d-flex float-right mb-5">
        <a href="/admin/turmas">
        <button type="button" class="btn btn-primary btn-lg btn-block">Concluir</button>
    </a>
    </div>

    </div>

    <script src="/js/adminpages.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery-3.3.1.slim.min.js"></script>
</body>

</html>